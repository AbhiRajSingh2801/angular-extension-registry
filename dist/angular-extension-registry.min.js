angular.module("extension-registry",["ngSanitize","extension-registry-utils"]),function(){"use strict";angular.module("extension-registry-utils",[]).constant("extensionRegistryUtils",function(){var n=Function.prototype.bind.bind(Function.prototype.call),t=n(String.prototype.split),e=n(Object.prototype.toString),r=function(n){return"[object Array]"===e(n)},i=function(n){return"[object Object]"===e(n)},o=function(n){return"[object Number]"===e(n)},u=function(n){return"[object Function]"===e(n)},s=n(Array.prototype.slice),c=function(n,t){for(var e=0;e<n.length;e++)t(n[e],e,n)},a=function(n,t){for(var e=[],r=0;r<n.length;r++)e.push(t(n[r],r,n));return e},f=function(n,t){for(var e=[],r=0;r<n.length;r++)t(n[r],r,n)&&e.push(n[r]);return e},l=function(n,t,e){for(var r=0;r<n.length;r++)e=t(e,n[r],r,n);return e},g=function(){var n=arguments[0],t=s(arguments,1),e=[];return c(t,function(t){c(n,function(n){n===t&&e.push(!0)})}),e.length===t.length?!0:!1},p=function(n){var t=[];return c(n,function(n){t=t.concat(r(n)?p(n):n)}),t},d=function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t},m=function(n){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(n[e]);return t};return{unbind:n,split:t,slice:s,contains:g,each:c,map:a,reduce:l,filter:f,flatten:p,ownKeys:d,toArray:m,isFunction:u,isObject:i,isNumber:o}}())}(),function(){"use strict";angular.module("extension-registry").provider("extensionRegistry",["extensionRegistryUtils",function(n){var t={},e={},r=1e3,i=n.split,o=n.slice,u=n.each,s=n.map,c=n.contains,a=n.filter,f=n.flatten,l=n.reduce,g=n.ownKeys,p=n.toArray,d=n.isFunction,m=function(){u(p(e),function(n){n&&n()})},y=function(n,e){var i=r++;return t[n]||(t[n]={}),e&&d(e)&&(t[n][i]=e,m()),{_name:n,_key:i,remove:function(){delete t[n][i],m()}}},h=function(n){delete t[n._name][n._key],m()},x=function(){return t},v=function(){t={}};this.add=y,this.dump=x,this.clean=v,this.$get=["$log","$q",function(n,u){return{add:y,remove:h,get:function(n,e,r,p){return u.all(f(l(s(i(n," "),function(n){return t[n]}),function(n,t){return n.concat(f(s(g(t),function(n){return t[n]&&t[n](r)})))},[]))).then(function(){return l(a(f(o(arguments)),function(n){return c(e,n&&n.type)?n:void 0}),function(n,t){return n.length>=p?n:(n.push(t),n)},[])})},subscribe:function(n){var t=r++;return e[t]=n,{unsubscribe:function(){delete e[t]}}},dump:x,clean:v}}]}])}(),function(){"use strict";angular.module("extension-registry").directive("extensionPoint",function(){return{restrict:"EA",scope:{extensionName:"=",extensionFilters:"=",extensionArgs:"=",extensionLimit:"="},transclude:!0,templateUrl:"__extension-point.html",controller:["$scope","$q","extensionRegistry",function(n,t,e){this.initialize=function(r,i){var o=function(){t.when(e.get(r,i,n.extensionArgs,Number(n.extensionLimit))).then(function(t){angular.extend(n,{items:t})})};o();var u=e.subscribe(o);n.$on("$destroy",function(){u.unsubscribe()})}}],link:function(n,t,e,r){var i=e.extensionName,o=e.extensionTypes&&e.extensionTypes.split(" ")||[],u=e.extensionArgs||{};r.initialize(i,o,u)}}})}(),function(){"use strict";angular.module("extension-registry").directive("extensionRenderer",function(){return{restrict:"AE",scope:{item:"=",index:"=",context:"="},templateUrl:"__extension-renderer.html"}})}();